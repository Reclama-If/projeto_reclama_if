
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Sistema de gerenciamento ouvidoria">
    <meta name="author" content="Samuel">
    <title> Reclama IF</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
    <link href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" rel="stylesheet" />
    <link href="{{ url_for('static', filename='style/home.css') }}" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.4.1/css/responsive.bootstrap5.min.css">
</head>

<body id="body-pd" class="body-pd">
    <header class="header bg-light body-pd" id="header">
        <div class="header_toggle">
            <i class="bx bx-menu" id="header-toggle"></i>
        </div>
        <div class="header_title">
            <span class="fw-bold">Gerenciamento de Ouvidoria</span>
        </div>
    </header>
    <div class="l-navbar show_navbar" id="nav-bar">
        <nav class="nav">
            <div>
                <a href="home" class="nav_logo my-2">
                    <i class="bx bx-category-alt nav_logo-icon"></i>
                    <span class="nav_logo-name">Reclama IF</span>
                </a>
                <hr class="sidebar-divider ms-2" style="color:white;">
                <div class="nav_list">
                    <a href="home" class="nav_link active">
                        <i class="bx bx-home-alt nav_icon"></i>
                        <span class="nav_name">Início</span>
                    </a>
                </div>
            </div>

            <a href="#" onclick="fazerLogout()" class="nav_link">
                <i class='bx bx-power-off nav_icon'></i>
                <span class="nav_name">Sair</span>
            </a>
        </nav>
    </div>

    <!-- cards -->

<!-- data tables -->


<div class="card shadow col-12 mb-4 p-0">
    <div class="card-header p-0 mb-3">
        <div class="d-flex row mb-2 mt-3 align-items-center">
            <div class="d-flex justify-content-md-start justify-content-center col-12 col-md-6">
                <dt class="h4 mx-2"> Lista de Manifestações</dt>
            </div>
            <div class="d-flex col-12 col-md-6 justify-content-md-end justify-content-center">
                <button class="btn btn-primary btn-sm border-0 m-2" data-bs-toggle="modal" data-bs-target="#cadManifestoModal"> <i class='bx-fw bx bx-plus fs-6'></i> Criar Manifesto</button>
            </div>

        </div>
    </div>


    <div class="card-body p-0 m-2">
        <div class="table-responsive">
            <table id="listarMensagens" class="table table-striped table-hover display nowrap" style="width:100%">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Tipo</th>
                        <th>Identificação</th>
                        <th>Canal</th>
                        <th>Data de Geração</th>
                        <th>Status</th>
                        <th>Ações</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>

</div>

<!-- modal cadastrar manifestação-->

<div class="modal fade" id="cadManifestoModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="cadManifestoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header header-color">
                <h5 class="modal-title text-header" id="cadManifestoModalLabel"> Criar Nova Manifestação</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="form-cad-manifesto" class="needs-validation" onsubmit="return false" novalidate="">
                    <div class="form-row mb-3">
                        <label for="nome" class="form-label">Nome completo </label>
                        <input type="nome" class="form-control " id="usuario" name="usuario" aria-describedby="emailHelp" placeholder="Digite o nome completo" required>
                        <div class="invalid-feedback">
                            Preencha o nome completo
                        </div>
                    </div>

                    <div class="form-row mb-3">
                        <label for="email" class="form-label">Email </label>
                        <input type="email" class="form-control borda" id="email" name="email" aria-describedby="emailHelp" placeholder="Digite um email" required>
                        <div class="invalid-feedback">
                            Preencha um email válido
                        </div>
                    </div>

                    <div class="form-row mb-3">
                        <label for="tel" class="form-label">Telefone</label>
                        <input type="tel" class="form-control borda" id="telefone" name="telefone" placeholder="Digite um telefone" required>
                        <div class="invalid-feedback">
                            Preencha o telefone
                        </div>
                    </div>

                    <div class="form-row mb-4">
                        <label for="tel" class="form-label">Manifesto</label>
                        <textarea class="form-control borda" aria-label="With textarea" placeholder="Digite um manifesto" name="manifesto" id="manifesto" required></textarea>
                        <div class="invalid-feedback">
                            Preencha a manifestação
                        </div>
                    </div>

                    <div class="row">

                        <div class="col-12 col-md-4 mb-1">
                            <select class="form-select borda" aria-label="Default select example" name="tipo" id="tipo" required>Informação
                                <option value="" disabled selected>Tipo de manifesto</option>
                                <option value="Elogio">Elogio</option>
                                <option value="Informação">Informação</option>
                                <option value="Reclamação">Reclamação</option>
                                <option value="Sugestão">Sugestão</option>
                                <option value="Solicitação">Solicitação</option>
                                <option value="Denúncia">Denúncia</option>
                            </select>
                            <div class="invalid-feedback">
                                Preencha o tipo
                            </div>
                        </div>

                        <div class="col-12 col-md-4 mb-1">
                            <select class="form-select " aria-label="Default select example" name="identificação" id="identificacao" required>
                                <option value="" disabled selected>Identificação</option>
                                <option value="Aluno">Aluno</option>
                                <option value="Professor">Professor</option>
                                <option value="Colaborador">Colaborador</option>
                                <option value="Sem vínculo com a instituição">Sem vínculo com a instituição</option>
                                <option value="Outro">Outro</option>
                            </select>
                            <div class="invalid-feedback">
                                Preencha a identificação
                            </div>
                        </div>

                        <div class="col-12 col-md-4 mb-1">
                            <select class="form-select " aria-label="Default select example" name="canal_da_manifestacao" id="canal_da_manifestacao" required>
                                <option value="" disabled selected>Canal da manifestação</option>
                                <option value="Telefone">Telefone</option>
                                <option value="WhatsApp">WhatsApp</option>
                                <option value="Presencialmente">Presencialmente</option>
                            </select>
                            <div class="invalid-feedback">
                                Preencha o canal da manifestação
                            </div>
                        </div>

                    </div>
                    <br>

                    <div class="form-row form-check form-switch mb-4">
                        <input class="form-check-input" type="checkbox" role="switch" id="anonimato" value="Sim" name="anonimato[]">
                        <label class="form-check-label" for="anonimato">Ficar em anonimato</label>
                    </div>

                    <div class="col-12">
                        <button type="reset" class="btn btn-danger justify-content-start" data-bs-dismiss="modal">Cancelar</button>
                        <button class="btn btn-primary float-end text-white border-0" name="enviar" onclick="cadastrarNovaManifestacao()">Criar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Modal Gerenciar Categorias -->


<!-- Modal Criar Categoria -->



<!-- Modal Editar Categoria -->


<!-- Modal Visualizar-->
<div class="modal fade" id="visManifestoModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="visManifestoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header header-color">
                <h4 class="modal-title text-header" id="visManifestoModalLabel">Detalhes da Manifestação</h4>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="accordion mb-3" id="accordionExample">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                <h5>Detalhes do manifestante</h5>
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                            <div class="accordion-body">

                                <section class="">
                                    <ul class="timeline">
                                        <li class="timeline-item mb-2 ">
                                            <div class="row">
                                                <h5 class="fw-bold col-4 me-1">Nome:</h5>
                                                <p class="text-muted fw-bold col-8" id="visNomeManifestante"></p>
                                            </div>
                                        </li>

                                        <li class="timeline-item mb-3">
                                            <div class="row">
                                                <h5 class="fw-bold col-4 me-1">Email:</h5>
                                                <p class="text-muted mb-2 fw-bold col-8 " id="visEmailManifestante"></p>
                                            </div>
                                        </li>

                                        <li class="timeline-item mb-3 ">
                                            <div class="row">
                                                <h5 class="fw-bold col-4 me-3">Telefone:</h5>
                                                <p class="text-muted mb-2 fw-bold col-8 " id="visTelefoneManifestante"></p>
                                            </div>
                                        </li>

                                        <li class="timeline-item mb-3 ">
                                            <div class="row">
                                                <h5 class="fw-bold col-4 me-3">Identificação:</h5>
                                                <p class="text-muted mb-2 fw-bold  col-8" id="visReferenciamentoManifestante"></p>
                                            </div>
                                        </li>

                                        <li class="timeline-item">
                                            <div class="row">
                                                <h5 class="fw-bold col-4 me-3">Anonimato:</h5>
                                                <p class="text-muted mb-2 fw-bold  col-8" id="visAnonimato"></p>
                                            </div>
                                        </li>


                                    </ul>
                                </section>

                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header " id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                <b>
                                    <h5> Detalhes do manifesto </h5>
                                </b>
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                            <div class="accordion-body">
                                <section class="">
                                    <ul class="timeline">

                                        <li class="timeline-item mb-2 ">
                                            <div class="row">
                                                <h5 class="fw-bold col-4 me-2">Status:</h5>
                                                <p class="text-muted fw-bold col-8" id="visStatus"></p>
                                            </div>
                                        </li>

                                        <li class="timeline-item mb-3">
                                            <div class="row">
                                                <h5 class="fw-bold col-4 me-3">Tipo:</h5>
                                                <p class="text-muted mb-2 fw-bold col-8 " id="visTipo"></p>
                                            </div>
                                        </li>

                                        <li class="timeline-item mb-3 ">
                                            <div class="row">
                                                <h5 class="fw-bold col-6 me-3">Canal de Manifestação:</h5>
                                                <p class="text-muted mb-2 fw-bold col-6 " id="visCanalManifestacao"></p>
                                            </div>
                                        </li>

                                        <li class="timeline-item mb-3 col-12">
                                            <div class="row textoCompleto">
                                                <h5 class="fw-bold col-12 me-n1">Manifesto:</h5>
                                                <p class="text-muted mb-2 fw-bold col-12 expander" id="visManifesto"></p>
                                            </div>
                                        </li>

                                    </ul>
                                </section>

                            </div>
                        </div>
                    </div>

                    <!-- histórico -->

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTree" aria-expanded="false" aria-controls="collapseTwo">
                                <b>
                                    <h5>Histórico da manifestação</h5>
                                </b>
                            </button>
                        </h2>
                        <div id="collapseTree" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                            <div class="accordion-body">
                                <dl class="row mb-0">



                                    <!-- Section: Timeline -->
                                    <section>
                                        <ul class="timeline-with-icons">

                                            <li class="timeline-item mb-5">
                                                <span class="timeline-icon">
                                                    <i class="bx bxs-calendar icon-detalhes"></i>
                                                </span>

                                                <h5 class="fw-bold">Data de geração </h5>
                                                <span class="text-muted mb-2 fw-bold" id="visDataGeracao"></span>

                                            </li>

                                            <li class="timeline-item mb-5 dataDeEncaminhamento ">

                                                <span class="timeline-icon">
                                                    <i class="bx bx-mail-send icon-detalhes"></i>
                                                </span>
                                                <h5 class="fw-bold">Mensagem encaminhada</h5>
                                                <p class="text-muted mb-2 fw-bold" id="visDataEncaminhado"></p>
                                                <p class="text-muted  mb-2 fw-bold" id="visSetorEncaminhado">
                                                <p class="text-muted t1doido expander" id="vismsgEncaminhada">
                                                </p>
                                            </li>

                                            <li class="timeline-item mb-5 Retorno ">

                                                <span class="timeline-icon">
                                                    <i class="bx bx-repost icon-detalhes"></i>
                                                </span>
                                                <h5 class="fw-bold">Retorno do encaminhamento</h5>
                                                <p class="text-muted mb-2 fw-bold" id="visDataRetorno"></p>
                                                <p class="text-muted mb-2 fw-bold" id="setorRetorno"></p>
                                                <p class="text-muted expander" id="visRetorno">
                                                </p>
                                            </li>



                                            <li class="timeline-item mb-5 dataResposta ">

                                                <span class="timeline-icon">
                                                    <i class="bx bx-paper-plane icon-detalhes"></i>
                                                </span>
                                                <h5 class="fw-bold controle">Resposta ao manifestante</h5>
                                                <p class="text-muted mb-2 fw-bold" id="visDataRespondido"></p>
                                                <p class="text-muted expander" id="visMensagemRes" value=""> Sem resultados
                                                </p>
                                            </li>
                                            <li class="timeline-item mb-5 feedback">

                                                <span class="timeline-icon">
                                                    <i class="bx bx-user-pin icon-detalhes"></i>
                                                </span>

                                                <h5 class="fw-bold">Feedback</h5>
                                                <p class="text-muted mb-2 fw-bold" id="visFeedback"></p>

                                            </li>


                                        </ul>
                                    </section>
                                </dl>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-12">

                    <div class="btn-group">
                        <button class="btn btn-success border-0 float-end btn-sm" name="enviar" onclick="statusConcluido(this.value)" id="concluido" value="" data-bs-toggle="modal">Concluir</button>

                    </div>


                    <button class="btn btn-primary border-0 float-end btn-sm" name="enviar" data-bs-target="#ModalEncaminhar" data-bs-toggle="modal">Encaminhar</button>

                    <button class="btn btn-primary border-0 float-end btn-sm me-2" name="enviar" data-bs-target="#ModalResponder" data-bs-toggle="modal">Responder</button>
                </div>
            </div>
        </div>
    </div>

</div>

<!-- Modal encaminhar manifestação -->


<!-- Modal responder manifestação -->


<!-- Modal Editar-->
<div class="modal fade" id="editManifestoModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="editManifestoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content" id="editar">
            <div class="modal-header header-color">
                <h4 class="modal-title text-header" id="editManifestoModalLabel">Editar Manifesto</h4>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="form-edit-manifesto" class="needs-validation" onsubmit="return false" novalidate="">
                    <div class="form-row mb-3">
                        <label for="nome" class="form-label">Nome completo </label>
                        <input type="nome" class="form-control " id="editNome" name="usuario" aria-describedby="emailHelp" placeholder="Digite o nome completo" required>
                        <div class="invalid-feedback">
                            Preencha o nome completo
                        </div>
                    </div>

                    <div class="form-row mb-3">
                        <label for="email" class="form-label">Email </label>
                        <input type="email" class="form-control borda" id="editEmail" name="email" aria-describedby="emailHelp" placeholder="Digite um email" required>
                        <div class="invalid-feedback">
                            Preencha um email válido
                        </div>
                    </div>

                    <div class="form-row mb-3">
                        <label for="tel" class="form-label">Telefone</label>
                        <input type="tel" class="form-control borda" id="editTelefone" name="telefone" placeholder="Digite um telefone" required>
                        <div class="invalid-feedback">
                            Preencha o telefone
                        </div>
                    </div>

                    <div class="form-row mb-4">
                        <label for="tel" class="form-label">Manifesto</label>
                        <textarea class="form-control borda" aria-label="With textarea" placeholder="Digite um manifesto" name="manifesto" id="editManifesto" required></textarea>
                        <div class="invalid-feedback">
                            Preencha a manifestação
                        </div>
                    </div>

                    <div class="row">

                        <div class="col-12 col-md-4 mb-1">
                            <select class="form-select borda" aria-label="Default select example" name="tipo" id="editTipo" required>
                                <option value="" disabled selected>Tipo de manifesto</option>
                                <option value="Elogio">Elogio</option>
                                <option value="Informação">Informação</option>
                                <option value="Reclamação">Reclamação</option>
                                <option value="Sugestão">Sugestão</option>
                                <option value="Solicitação">Solicitação</option>
                                <option value="Denúncia">Denúncia</option>
                            </select>
                            <div class="invalid-feedback">
                                Preencha o tipo
                            </div>
                        </div>

                        <div class="col-12 col-md-4 mb-1">
                            <select class="form-select " aria-label="Default select example" name="identificação" id="editIdentificacao" required>
                                <option value="" disabled selected>Identificação</option>
                                <option value="Aluno">Aluno</option>
                                <option value="Professor">Professor</option>
                                <option value="Colaborador">Colaborador</option>
                                <option value="Sem vínculo com a instituição">Sem vínculo com a instituição</option>
                                <option value="Outro">Outro</option>
                            </select>
                            <div class="invalid-feedback">
                                Preencha a identificação
                            </div>
                        </div>

                        <div class="col-12 col-md-4 mb-1">
                            <select class="form-select " aria-label="Default select example" name="canal_da_manifestacao" id="edit_canal_da_manifestacao" required>
                                <option value="" disabled selected>Canal da manifestação</option>
                                <option value="Sistema Ouvidoria" id="sistemaOuvidoria" disabled>Sistema Ouvidoria</option>
                                <option value="Telefone">Telefone</option>
                                <option value="WhatsApp">WhatsApp</option>
                                <option value="Presencialmente">Presencialmente</option>
                            </select>
                            <div class="invalid-feedback">
                                Preencha o canal da manifestação
                            </div>
                        </div>

                    </div>
                    <br>

                    <div class="form-row form-check form-switch mb-4">
                        <input class="form-check-input" type="checkbox" role="switch" id="editAnonimato" value="Sim" name="anonimato[]">
                        <label class="form-check-label" for="editAnonimato">Ficar em anonimato</label>
                    </div>

                    <div class="col-12">
                        <button type="reset" class="btn btn-danger centerjustify-content-" data-bs-dismiss="modal">Cancelar</button>
                        <button class="btn btn-salvar btn-primary float-end border-0 text-white" name="editar" onclick="salvarEditarManifesto(this.value)" value="" id="salvarEditManifesto">Salvar edição</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Modal Observações-->
<div class="modal fade" id="obserManifestoModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="obserManifestoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md ">
        <div class="modal-content justify-content-right">
            <div class="modal-header header-color ">
                <h5 class="modal-title text-header" id="obserManifestoModalLabel">Bloco de Notas</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="form-obser-manifesto" class="needs-validation" onsubmit="return false" novalidate="">
                    <div class="row mb-3">
                        <div class="col-sm-12">
                            <textarea class="form-control " placeholder="Escreva suas observações" id="observacao" rows="9"></textarea>
                        </div>
                    </div>

                    <button class="btn btn-danger btn-sm float-start" name="enviar" onclick="apagarObservacaoManifesto(this.value)" value="" id="apagarBlocoNotas">Apagar</button>

                    <button class="btn btn-primary border-0 btn-sm float-end" name="enviar" onclick="salvarObservacaoManifesto(this.value)" value="" id="salvarBlocoNotas">Salvar</button>
                </form>
            </div>
        </div>
    </div>
</div>


    <div id="corpo_principal" class="row ms-1 me-1 justify-content-center justify-content-md-start">
    
    </div>



</body>

</html>